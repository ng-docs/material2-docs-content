<html><head></head><body><div class="docs-markdown"><p class="docs-markdown-p">Connect user input to screen reactions by using ripples to both indicate the point of touch, and to confirm that touch input was received. For touch or mouse, this occurs at the point of contact.</p><p class="docs-markdown-p">使用水波可以将用户的输入与屏幕的反应联系起来，以指示触摸点，并确认已收到输入。对于触摸或鼠标，水波都会出现在接触点上。</p><p class="docs-markdown-p">The <code class="docs-markdown-code">matRipple</code> attribute directive defines an area in which a ripple animates on user interaction.</p><p class="docs-markdown-p">属性型指令 <code class="docs-markdown-code">matRipple</code> 定义了一个区域，当和用户交互时，该区域就会播放一个水波动画。</p><pre class="docs-markdown-pre"><code class="lang-html docs-markdown-code"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">matRipple</span> [<span class="hljs-attr">matRippleColor</span>]=<span class="hljs-string">"myColor"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ng-content</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-content</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><p class="docs-markdown-p">By default, a ripple is activated when the host element of the <code class="docs-markdown-code">matRipple</code> directive receives mouse or touch events. Upon being pressed, a ripple will begin fading in from the point of contact, radiating to cover the host element. Each ripple will fade out only upon release of the mouse or touch.</p><p class="docs-markdown-p">默认情况下，当 <code class="docs-markdown-code">matRipple</code> 指令的宿主元素收到鼠标或触摸事件时，就会激活一个水波。当按下时，一个水波就会从接触点出现并逐渐消失，其辐射范围会覆盖宿主元件。当释放鼠标或结束触摸时，其水波就会淡出。</p><p class="docs-markdown-p">Ripples can also be triggered programmatically by getting a reference to the MatRipple directive and calling its <code class="docs-markdown-code">launch</code> method.</p><p class="docs-markdown-p">还可以获得对 MatRipple 指令的引用并调用其 <code class="docs-markdown-code">launch</code> 方法，以编程的方式触发水波。</p><h3 id="ripple-trigger" class="docs-header-link docs-markdown-h3"><span header-link="ripple-trigger"></span> Ripple trigger</h3><h3 id="-" class="docs-header-link docs-markdown-h3"><span header-link="-"></span> 水波触发</h3><p class="docs-markdown-p">By default ripples will fade in on interaction with the directive's host element. In some situations, developers may want to show ripples on interaction with <em>some other</em> element, but still want to have the ripples placed in another location. This can be done by specifying the <code class="docs-markdown-code">matRippleTrigger</code> option that expects a reference to an <code class="docs-markdown-code">HTMLElement</code>.</p><p class="docs-markdown-p">默认情况下，当指令的宿主元素有交互时，水波会淡入。在某些情况下，开发人员可能希望在与<em>另一个</em>元素的交互中显示水波，但仍希望把这些水波在特定的位置播放。要做到这一点，可以为 <code class="docs-markdown-code">matRippleTrigger</code> 选项指定那个元素的 <code class="docs-markdown-code">HTMLElement</code> 引用。</p><pre class="docs-markdown-pre"><code class="lang-html docs-markdown-code"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">matRipple</span> [<span class="hljs-attr">matRippleTrigger</span>]=<span class="hljs-string">"trigger"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-ripple-container"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- This is the ripple container, but not the trigger element for ripples. --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> #<span class="hljs-attr">trigger</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><h3 id="manual-ripples" class="docs-header-link docs-markdown-h3"><span header-link="manual-ripples"></span> Manual ripples</h3><h3 id="-" class="docs-header-link docs-markdown-h3"><span header-link="-"></span> 手动水波</h3><p class="docs-markdown-p">Ripples can be shown programmatically by getting a reference to the <code class="docs-markdown-code">MatRipple</code> directive.</p><p class="docs-markdown-p">通过引用 <code class="docs-markdown-code">MatRipple</code> 指令，可以用编程的方式显示水波。</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">class</span> MyComponent {

  <span class="hljs-comment">/** Reference to the directive instance of the ripple. */</span>
  <span class="hljs-meta">@ViewChild</span>(MatRipple) ripple: MatRipple;

  <span class="hljs-comment">/** Shows a centered and persistent ripple. */</span>
  launchRipple() {
    <span class="hljs-keyword">const</span> rippleRef = <span class="hljs-keyword">this</span>.ripple.launch({
      persistent: <span class="hljs-literal">true</span>,
      centered: <span class="hljs-literal">true</span>
    });

    <span class="hljs-comment">// Fade out the ripple later.</span>
    rippleRef.fadeOut();
  }
}
</code></pre><p class="docs-markdown-p">In the example above, no specific coordinates have been passed, because the <code class="docs-markdown-code">centered</code> ripple option has been set to <code class="docs-markdown-code">true</code> and the coordinates would not matter.</p><p class="docs-markdown-p">在上面的例子中，并没有传递特定的坐标，因为水波的 <code class="docs-markdown-code">centered</code> 选项已设置为 <code class="docs-markdown-code">true</code>，这时坐标就无关紧要了。</p><p class="docs-markdown-p">Ripples that are being dispatched programmatically can be launched with the <code class="docs-markdown-code">persistent</code> option. This means that the ripples will not fade out automatically, and need to be faded out using the <code class="docs-markdown-code">RippleRef</code> (<em>useful for focus indicators</em>).</p><p class="docs-markdown-p">那些以编程方式触发的水波可以通过 <code class="docs-markdown-code">persistent</code> 选项来启动。这意味着水波将不会自动淡出，而是需要使用 <code class="docs-markdown-code">RippleRef</code> 来让它淡出（<em>这对焦点指示器很有用</em>）。</p><p class="docs-markdown-p">In case, developers want to launch ripples at specific coordinates within the element, the <code class="docs-markdown-code">launch()</code> method also accepts <code class="docs-markdown-code">x</code> and <code class="docs-markdown-code">y</code> coordinates as parameters. Those coordinates are relative to the ripple container element.</p><p class="docs-markdown-p">如果开发人员希望在该元素内的指定坐标处启动水波，那么 <code class="docs-markdown-code">launch()</code> 方法也会接受 <code class="docs-markdown-code">x</code> 和 <code class="docs-markdown-code">y</code> 坐标作为参数。这些坐标是相对于该水波的容器元素的。</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">const</span> rippleRef = <span class="hljs-keyword">this</span>.ripple.launch(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, {persistent: <span class="hljs-literal">true</span>});
</code></pre><h3 id="global-options" class="docs-header-link docs-markdown-h3"><span header-link="global-options"></span> Global options</h3><h3 id="-" class="docs-header-link docs-markdown-h3"><span header-link="-"></span> 全局选项</h3><p class="docs-markdown-p">Developers are able to specify options for all ripples inside of their application.</p><p class="docs-markdown-p">开发人员可以为应用中的所有水波指定一些选项。</p><p class="docs-markdown-p">The speed of the ripples can be adjusted and the ripples can be disabled globally as well.</p><p class="docs-markdown-p">可以调节水波的速度，也可以全局禁用它。</p><p class="docs-markdown-p">Global ripple options can be specified by setting the <code class="docs-markdown-code">MAT_RIPPLE_GLOBAL_OPTIONS</code> provider.</p><p class="docs-markdown-p">可以通过设置 <code class="docs-markdown-code">MAT_RIPPLE_GLOBAL_OPTIONS</code> 提供符来指定全局的水波选项。</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">const</span> globalRippleConfig: RippleGlobalOptions = {
  disabled: <span class="hljs-literal">true</span>,
  animation: {
    enterDuration: <span class="hljs-number">300</span>,
    exitDuration: <span class="hljs-number">0</span>
  }
};

<span class="hljs-meta">@NgModule</span>({
  providers: [
    {provide: MAT_RIPPLE_GLOBAL_OPTIONS, useValue: globalRippleConfig} 
  ]
})
</code></pre><p class="docs-markdown-p">All available global options can be seen in the <code class="docs-markdown-code">RippleGlobalOptions</code> interface.</p><p class="docs-markdown-p">所有可用的全局选项都能在 <code class="docs-markdown-code">RippleGlobalOptions</code> 接口中找到。</p><h3 id="disabling-animation" class="docs-header-link docs-markdown-h3"><span header-link="disabling-animation"></span> Disabling animation</h3><h3 id="-" class="docs-header-link docs-markdown-h3"><span header-link="-"></span> 禁用动画</h3><p class="docs-markdown-p">The animation of ripples can be disabled by using the <code class="docs-markdown-code">animation</code> global option. If the <code class="docs-markdown-code">enterDuration</code> and <code class="docs-markdown-code">exitDuration</code> is being set to <code class="docs-markdown-code">0</code>, ripples will just appear without any animation.</p><p class="docs-markdown-p">使用全局选项 <code class="docs-markdown-code">animation</code> 可以禁用水波的动画。如果 <code class="docs-markdown-code">enterDuration</code> 和 <code class="docs-markdown-code">exitDuration</code> 被设置为 <code class="docs-markdown-code">0</code>，那么当出现水波时就不会产生任何动画。</p><p class="docs-markdown-p">This is specifically useful in combination with the <code class="docs-markdown-code">disabled</code> global option, because globally disabling ripples won't affect the focus indicator ripples. If someone still wants to disable those ripples for performance reasons, the duration can be set to <code class="docs-markdown-code">0</code>, to remove the ripple feel.</p><p class="docs-markdown-p">这在与全局选项 <code class="docs-markdown-code">disabled</code> 共同出现的时候特别有用，因为全局禁用水波不会影响焦点指示器的水波效果。如果出于性能原因，有人仍要禁用这些水波，那么可以把持续时间设置为 <code class="docs-markdown-code">0</code>，以消除水波效果。</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">const</span> globalRippleConfig: RippleGlobalOptions = {
  disabled: <span class="hljs-literal">true</span>,
  animation: {
    enterDuration: <span class="hljs-number">0</span>,
    exitDuration: <span class="hljs-number">0</span>
  }
};
</code></pre><p class="docs-markdown-p"><strong>Note</strong>: Ripples will also have no animation if the <code class="docs-markdown-code">NoopAnimationsModule</code> is being used. This also means that the durations in the <code class="docs-markdown-code">animation</code> configuration won't be taken into account.</p><p class="docs-markdown-p"><strong>注意</strong>：如果正在使用 <code class="docs-markdown-code">NoopAnimationsModule</code>水波也不会有动画。这意味着不必考虑 <code class="docs-markdown-code">animation</code> 配置中的持续时间。</p><h3 id="animation-behavior" class="docs-header-link docs-markdown-h3"><span header-link="animation-behavior"></span> Animation behavior</h3><h3 id="-" class="docs-header-link docs-markdown-h3"><span header-link="-"></span> 动画行为</h3><p class="docs-markdown-p">There are two different animation behaviors for the fade-out of ripples shown in the Material Design specifications.</p><p class="docs-markdown-p">Material Design 规范中所展示的水波淡出有两种不同的动画行为。</p><p class="docs-markdown-p">By default, all ripples will start fading out if the mouse or touch is released and the enter animation completed. The second possible behavior, which is also shown in the specifications, is that ripples start to fade out immediately on mouse or touch release.</p><p class="docs-markdown-p">默认情况下，如果释放鼠标或触摸并且已完成进场动画，那么所有水波都会淡出。另一种可能的行为，就是在放开鼠标或结束触摸时，水波也会立即淡出，正如规范中所要求的那样。</p><p class="docs-markdown-p">In some scenarios, developers might prefer that behavior over the default and would like to have the same for Angular Material. This behavior can be activated by specifying the <code class="docs-markdown-code">terminateOnPointerUp</code> global ripple option.</p><p class="docs-markdown-p">在某些情况下，开发人员可能更喜欢覆盖默认行为，并希望 Angular Material 也这样做。这时可以通过指定全局选项 <code class="docs-markdown-code">terminateOnPointerUp</code> 来激活第二种行为。</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">const</span> globalRippleConfig: RippleGlobalOptions = {
  terminateOnPointerUp: <span class="hljs-literal">true</span>
};
</code></pre></div></body></html>