<html><head></head><body><div class="docs-markdown"><p class="docs-markdown-p">The <code class="docs-markdown-code">MatBottomSheet</code> service can be used to open Material Design panels to the bottom of the screen. These panels are intended primarily as an interaction on mobile devices where they can be used as an alternative to dialogs and menus.</p><p class="docs-markdown-p"><code class="docs-markdown-code">MatBottomSheet</code> 服务可用于在屏幕底部打开一些 Material Design 面板。 这些面板的主要目的是在移动设备上作为对话框和菜单的替代品提供交互体验。</p><div material-docs-example="bottom-sheet-overview"></div><p class="docs-markdown-p">You can open a bottom sheet by calling the <code class="docs-markdown-code">open</code> method with a component to be loaded and an optional config object. The <code class="docs-markdown-code">open</code> method will return an instance of <code class="docs-markdown-code">MatBottomSheetRef</code>:</p><p class="docs-markdown-p">你可以调用它的 <code class="docs-markdown-code">open</code> 方法并传入一个要加载的组件和一个可选的配置对象，来打开一个底部操作表：</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">const</span> bottomSheetRef = bottomSheet.open(SocialShareComponent, {
  ariaLabel: <span class="hljs-string">'Share on social media'</span>
});
</code></pre><p class="docs-markdown-p">The <code class="docs-markdown-code">MatBottomSheetRef</code> is a reference to the currently-opened bottom sheet and can be used to close it or to subscribe to events. Note that only one bottom sheet can be open at a time. Any component contained inside of a bottom sheet can inject the <code class="docs-markdown-code">MatBottomSheetRef</code> as well.</p><p class="docs-markdown-p"><code class="docs-markdown-code">MatBottomSheetRef</code> 是一个到当前打开的底部操作表的引用，可以通过此引用来关闭它或订阅其事件。 注意，同一时间只能打开一个底部操作表。 底部操作表中包含的任何组件也同样可以注入这个 <code class="docs-markdown-code">MatBottomSheetRef</code> 引用。</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code">bottomSheetRef.afterDismissed().subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Bottom sheet has been dismissed.'</span>);
});

bottomSheetRef.dismiss();
</code></pre><h3 id="sharing-data-with-the-bottom-sheet-component-" class="docs-header-link docs-markdown-h3"><span header-link="sharing-data-with-the-bottom-sheet-component-"></span> Sharing data with the bottom sheet component.</h3><h3 id="-" class="docs-header-link docs-markdown-h3"><span header-link="-"></span> 与底部操作表组件共享数据</h3><p class="docs-markdown-p">If you want to pass in some data to the bottom sheet, you can do so using the <code class="docs-markdown-code">data</code> property:</p><p class="docs-markdown-p">如果你要把一些数据传给底部操作表，可以使用 <code class="docs-markdown-code">data</code> 属性：</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">const</span> bottomSheetRef = bottomSheet.open(HobbitSheet, {
  data: { names: [<span class="hljs-string">'Frodo'</span>, <span class="hljs-string">'Bilbo'</span>] },
});
</code></pre><p class="docs-markdown-p">Afterwards you can access the injected data using the <code class="docs-markdown-code">MAT_BOTTOM_SHEET_DATA</code> injection token:</p><p class="docs-markdown-p">然后，你就可以通过注入令牌 <code class="docs-markdown-code">MAT_BOTTOM_SHEET_DATA</code> 来访问所注入的这些数据了：</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-keyword">import</span> {Component, Inject} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> {MAT_BOTTOM_SHEET_DATA} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/material'</span>;

<span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'hobbit-sheet'</span>,
  template: <span class="hljs-string">'passed in {{ data.names }}'</span>,
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> HobbitSheet {
  <span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-meta">@Inject</span>(MAT_BOTTOM_SHEET_DATA) <span class="hljs-keyword">public</span> data: <span class="hljs-built_in">any</span></span>) { }
}
</code></pre><h3 id="configuring-bottom-sheet-content-via-code-entrycomponents-code-" class="docs-header-link docs-markdown-h3"><span header-link="configuring-bottom-sheet-content-via-code-entrycomponents-code-"></span> Configuring bottom sheet content via <code class="docs-markdown-code">entryComponents</code></h3><h3 id="-code-entrycomponents-code-" class="docs-header-link docs-markdown-h3"><span header-link="-code-entrycomponents-code-"></span> 通过 <code class="docs-markdown-code">entryComponents</code> 配置底部操作表的内容</h3><p class="docs-markdown-p">Similarly to <code class="docs-markdown-code">MatDialog</code>, <code class="docs-markdown-code">MatBottomSheet</code> instantiates components at run-time. In order for it to work, the Angular compiler needs extra information to create the necessary <code class="docs-markdown-code">ComponentFactory</code> for your bottom sheet content component.</p><p class="docs-markdown-p">和 <code class="docs-markdown-code">MatDialog</code> 一样，<code class="docs-markdown-code">MatBottomSheet</code> 也会在运行期间实例化组件。 为了让它能正常工作，Angular 编译器需要一些额外的信息，以便为你在底部操作表中使用的内容组件创建必要的 <code class="docs-markdown-code">ComponentFactory</code>。</p><p class="docs-markdown-p">Any components that are include inside of a bottom sheet have to be added to the <code class="docs-markdown-code">entryComponents</code> inside your <code class="docs-markdown-code">NgModule</code>.</p><p class="docs-markdown-p">任何要包含在底部操作表中的组件都必须添加到你的 <code class="docs-markdown-code">NgModule</code> 的 <code class="docs-markdown-code">entryComponents</code> 数组中。</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-meta">@NgModule</span>({
  imports: [
    <span class="hljs-comment">// ...</span>
    MatBottomSheetModule
  ],

  declarations: [
    AppComponent,
    ExampleBottomSheetComponent
  ],

  entryComponents: [
    ExampleBottomSheetComponent
  ],

  providers: [],
  bootstrap: [AppComponent]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> AppModule {}
</code></pre><h3 id="specifying-global-configuration-defaults" class="docs-header-link docs-markdown-h3"><span header-link="specifying-global-configuration-defaults"></span> Specifying global configuration defaults</h3><p class="docs-markdown-p">Default bottom sheet options can be specified by providing an instance of <code class="docs-markdown-code">MatBottomSheetConfig</code> for <code class="docs-markdown-code">MAT_BOTTOM_SHEET_DEFAULT_OPTIONS</code> in your application's root module.</p><pre class="docs-markdown-pre"><code class="lang-ts docs-markdown-code"><span class="hljs-meta">@NgModule</span>({
  providers: [
    {provide: MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, useValue: {hasBackdrop: <span class="hljs-literal">false</span>}}
  ]
})
</code></pre><h3 id="accessibility" class="docs-header-link docs-markdown-h3"><span header-link="accessibility"></span> Accessibility</h3><h3 id="-" class="docs-header-link docs-markdown-h3"><span header-link="-"></span> 无障碍性</h3><p class="docs-markdown-p">By default, the bottom sheet has <code class="docs-markdown-code">role="dialog"</code> on the root element and can be labelled using the <code class="docs-markdown-code">ariaLabel</code> property on the <code class="docs-markdown-code">MatBottomSheetConfig</code>.</p><p class="docs-markdown-p">默认情况下，底部操作表的根元素伤都会有一个 <code class="docs-markdown-code">role="dialog"</code> 属性，并且可以使用 <code class="docs-markdown-code">MatBottomSheetConfig</code> 上的 <code class="docs-markdown-code">ariaLabel</code> 属性标记出来。</p><p class="docs-markdown-p">When a bottom sheet is opened, it will move focus to the first focusable element that it can find. In order to prevent users from tabbing into elements in the background, the Material bottom sheet uses a <a href="https://material.angular.io/cdk/a11y/overview#focustrap" class="docs-markdown-a">focus trap</a> to contain focus within itself. Once a bottom sheet is closed, it will return focus to the element that was focused before it was opened.</p><p class="docs-markdown-p">当底部操作表打开时，它就会把焦点移交给所能找到的第一个可获得焦点的子元素。 要阻止用户通过 tab 把焦点移到背景元素上，Material 的底部操作表会用<a href="/cdk/a11y/overview#focustrap" class="docs-markdown-a">焦点陷阱</a>把焦点锁在自己的内部。 当底部操作表关闭时，它就会把焦点归还给打开操作表之前的拥有焦点的那个元素。</p><h4 id="focus-management" class="docs-header-link docs-markdown-h4"><span header-link="focus-management"></span> Focus management</h4><h4 id="-" class="docs-header-link docs-markdown-h4"><span header-link="-"></span> 焦点管理</h4><p class="docs-markdown-p">By default, the first tabbable element within the bottom sheet will receive focus upon open. This can be configured by setting the <code class="docs-markdown-code">cdkFocusInitial</code> attribute on another focusable element.</p><p class="docs-markdown-p">默认情况下，当打开时，底部工作表中第一个可 tab 进去的子元素将会接受焦点。 不过，也可以通过为另一个可获得焦点的元素添加 <code class="docs-markdown-code">cdkFocusInitial</code> 元素来配置它。</p><h4 id="keyboard-interaction" class="docs-header-link docs-markdown-h4"><span header-link="keyboard-interaction"></span> Keyboard interaction</h4><h4 id="-" class="docs-header-link docs-markdown-h4"><span header-link="-"></span> 键盘交互</h4><p class="docs-markdown-p">By default pressing the escape key will close the bottom sheet. While this behavior can be turned off via the <code class="docs-markdown-code">disableClose</code> option, users should generally avoid doing so as it breaks the expected interaction pattern for screen-reader users.</p><p class="docs-markdown-p">默认情况下，按 ESC 键就会关闭底部操作表。虽然也可以通过 <code class="docs-markdown-code">disableClose</code> 选项来禁止此行为，不过一般不应这样做，因为它会打破屏幕阅读器用户所期望的交互模式。</p></div></body></html>