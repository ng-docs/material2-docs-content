import { __awaiter } from "tslib";
import { parallel } from '@angular/cdk/testing';
import { TestBed, waitForAsync } from '@angular/core/testing';
import { TestbedHarnessEnvironment } from '@angular/cdk/testing/testbed';
import { MatListHarness } from '@angular/material/list/testing';
import { BrowserDynamicTestingModule, platformBrowserDynamicTesting } from '@angular/platform-browser-dynamic/testing';
import { MatListModule } from '@angular/material/list';
import { ListHarnessExample } from './list-harness-example';
describe('ListHarnessExample', () => {
    let fixture;
    let loader;
    beforeAll(() => {
        TestBed.initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());
    });
    beforeEach(waitForAsync(() => {
        TestBed.configureTestingModule({
            imports: [MatListModule],
            declarations: [ListHarnessExample]
        }).compileComponents();
        fixture = TestBed.createComponent(ListHarnessExample);
        fixture.detectChanges();
        loader = TestbedHarnessEnvironment.loader(fixture);
    }));
    it('should get all items', () => __awaiter(void 0, void 0, void 0, function* () {
        const list = yield loader.getHarness(MatListHarness);
        const items = yield list.getItems();
        expect(yield parallel(() => items.map(i => i.getText())))
            .toEqual(['Item 1', 'Item 2', 'Item 3']);
    }));
    it('should get all items matching text', () => __awaiter(void 0, void 0, void 0, function* () {
        const list = yield loader.getHarness(MatListHarness);
        const items = yield list.getItems({ text: /[13]/ });
        expect(yield parallel(() => items.map(i => i.getText()))).toEqual(['Item 1', 'Item 3']);
    }));
    it('should get items by subheader', () => __awaiter(void 0, void 0, void 0, function* () {
        const list = yield loader.getHarness(MatListHarness);
        const sections = yield list.getItemsGroupedBySubheader();
        expect(sections.length).toBe(3);
        expect(sections[0].heading).toBeUndefined();
        expect(yield parallel(() => sections[0].items.map(i => i.getText()))).toEqual(['Item 1']);
        expect(sections[1].heading).toBe('Section 1');
        expect(yield parallel(() => sections[1].items.map(i => i.getText())))
            .toEqual(['Item 2', 'Item 3']);
        expect(sections[2].heading).toBe('Section 2');
        expect(sections[2].items.length).toEqual(0);
    }));
    it('should get list item text and lines', () => __awaiter(void 0, void 0, void 0, function* () {
        const list = yield loader.getHarness(MatListHarness);
        const items = yield list.getItems();
        expect(items.length).toBe(3);
        expect(yield items[0].getText()).toBe('Item 1');
        expect(yield items[0].getLinesText()).toEqual(['Item', '1']);
        expect(yield items[1].getText()).toBe('Item 2');
        expect(yield items[1].getLinesText()).toEqual([]);
        expect(yield items[2].getText()).toBe('Item 3');
        expect(yield items[2].getLinesText()).toEqual([]);
    }));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC1oYXJuZXNzLWV4YW1wbGUuc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzLWV4YW1wbGVzL21hdGVyaWFsL2xpc3QvbGlzdC1oYXJuZXNzL2xpc3QtaGFybmVzcy1leGFtcGxlLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBZ0IsUUFBUSxFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFDN0QsT0FBTyxFQUFDLE9BQU8sRUFBb0IsWUFBWSxFQUFDLE1BQU0sdUJBQXVCLENBQUM7QUFDOUUsT0FBTyxFQUFDLHlCQUF5QixFQUFDLE1BQU0sOEJBQThCLENBQUM7QUFDdkUsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLGdDQUFnQyxDQUFDO0FBQzlELE9BQU8sRUFBQywyQkFBMkIsRUFBRSw2QkFBNkIsRUFBQyxNQUM1RCwyQ0FBMkMsQ0FBQztBQUNuRCxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sd0JBQXdCLENBQUM7QUFDckQsT0FBTyxFQUFDLGtCQUFrQixFQUFDLE1BQU0sd0JBQXdCLENBQUM7QUFFMUQsUUFBUSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtJQUNsQyxJQUFJLE9BQTZDLENBQUM7SUFDbEQsSUFBSSxNQUFxQixDQUFDO0lBRTFCLFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDYixPQUFPLENBQUMsbUJBQW1CLENBQUMsMkJBQTJCLEVBQUUsNkJBQTZCLEVBQUUsQ0FBQyxDQUFDO0lBQzVGLENBQUMsQ0FBQyxDQUFDO0lBRUgsVUFBVSxDQUNSLFlBQVksQ0FBQyxHQUFHLEVBQUU7UUFDaEIsT0FBTyxDQUFDLHNCQUFzQixDQUFDO1lBQzdCLE9BQU8sRUFBRSxDQUFDLGFBQWEsQ0FBQztZQUN4QixZQUFZLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQztTQUNuQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2QixPQUFP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YWRlciwgcGFyYWxsZWx9IGZyb20gJ0Bhbmd1bGFyL2Nkay90ZXN0aW5nJztcbmltcG9ydCB7VGVzdEJlZCwgQ29tcG9uZW50Rml4dHVyZSwgd2FpdEZvckFzeW5jfSBmcm9tICdAYW5ndWxhci9jb3JlL3Rlc3RpbmcnO1xuaW1wb3J0IHtUZXN0YmVkSGFybmVzc0Vudmlyb25tZW50fSBmcm9tICdAYW5ndWxhci9jZGsvdGVzdGluZy90ZXN0YmVkJztcbmltcG9ydCB7TWF0TGlzdEhhcm5lc3N9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2xpc3QvdGVzdGluZyc7XG5pbXBvcnQge0Jyb3dzZXJEeW5hbWljVGVzdGluZ01vZHVsZSwgcGxhdGZvcm1Ccm93c2VyRHluYW1pY1Rlc3Rpbmd9XG4gIGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYy90ZXN0aW5nJztcbmltcG9ydCB7TWF0TGlzdE1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvbGlzdCc7XG5pbXBvcnQge0xpc3RIYXJuZXNzRXhhbXBsZX0gZnJvbSAnLi9saXN0LWhhcm5lc3MtZXhhbXBsZSc7XG5cbmRlc2NyaWJlKCdMaXN0SGFybmVzc0V4YW1wbGUnLCAoKSA9PiB7XG4gIGxldCBmaXh0dXJlOiBDb21wb25lbnRGaXh0dXJlPExpc3RIYXJuZXNzRXhhbXBsZT47XG4gIGxldCBsb2FkZXI6IEhhcm5lc3NMb2FkZXI7XG5cbiAgYmVmb3JlQWxsKCgpID0+IHtcbiAgICBUZXN0QmVkLmluaXRUZXN0RW52aXJvbm1lbnQoQnJvd3NlckR5bmFtaWNUZXN0aW5nTW9kdWxlLCBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljVGVzdGluZygpKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChcbiAgICB3YWl0Rm9yQXN5bmMoKCkgPT4ge1xuICAgICAgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHtcbiAgICAgICAgaW1wb3J0czogW01hdExpc3RNb2R1bGVdLFxuICAgICAgICBkZWNsYXJhdGlvbnM6IFtMaXN0SGFybmVzc0V4YW1wbGVdXG4gICAgICB9KS5jb21waWxlQ29tcG9uZW50cygpO1xuICAgICAgZml4dHVyZSA9IFRlc3RCZWQuY3JlYXRlQ29tcG9uZW50KExpc3RIYXJuZXNzRXhhbXBsZSk7XG4gICAgICBmaXh0dXJlLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIGxvYWRlciA9IFRlc3RiZWRIYXJuZXNzRW52aXJvbm1lbnQubG9hZGVyKGZpeHR1cmUpO1xuICAgIH0pXG4gICk7XG5cbiAgaXQoJ3Nob3VsZCBnZXQgYWxsIGl0ZW1zJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGxpc3QgPSBhd2FpdCBsb2FkZXIuZ2V0SGFybmVzcyhNYXRMaXN0SGFybmVzcyk7XG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBsaXN0LmdldEl0ZW1zKCk7XG4gICAgZXhwZWN0KGF3YWl0IHBhcmFsbGVsKCgpID0+IGl0ZW1zLm1hcChpID0+IGkuZ2V0VGV4dCgpKSkpXG4gICAgICAudG9FcXVhbChbJ0l0ZW0gMScsICdJdGVtIDInLCAnSXRlbSAzJ10pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGdldCBhbGwgaXRlbXMgbWF0Y2hpbmcgdGV4dCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBsaXN0ID0gYXdhaXQgbG9hZGVyLmdldEhhcm5lc3MoTWF0TGlzdEhhcm5lc3MpO1xuICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgbGlzdC5nZXRJdGVtcyh7dGV4dDogL1sxM10vfSk7XG4gICAgZXhwZWN0KGF3YWl0IHBhcmFsbGVsKCgpID0+IGl0ZW1zLm1hcChpID0+IGkuZ2V0VGV4dCgpKSkpLnRvRXF1YWwoWydJdGVtIDEnLCAnSXRlbSAzJ10pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGdldCBpdGVtcyBieSBzdWJoZWFkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IGF3YWl0IGxvYWRlci5nZXRIYXJuZXNzKE1hdExpc3RIYXJuZXNzKTtcbiAgICBjb25zdCBzZWN0aW9ucyA9IGF3YWl0IGxpc3QuZ2V0SXRlbXNHcm91cGVkQnlTdWJoZWFkZXIoKTtcbiAgICBleHBlY3Qoc2VjdGlvbnMubGVuZ3RoKS50b0JlKDMpO1xuICAgIGV4cGVjdChzZWN0aW9uc1swXS5oZWFkaW5nKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgZXhwZWN0KGF3YWl0IHBhcmFsbGVsKCgpID0+IHNlY3Rpb25zWzBdLml0ZW1zLm1hcChpID0+IGkuZ2V0VGV4dCgpKSkpLnRvRXF1YWwoWydJdGVtIDEnXSk7XG4gICAgZXhwZWN0KHNlY3Rpb25zWzFdLmhlYWRpbmcpLnRvQmUoJ1NlY3Rpb24gMScpO1xuICAgIGV4cGVjdChhd2FpdCBwYXJhbGxlbCgoKSA9PiBzZWN0aW9uc1sxXS5pdGVtcy5tYXAoaSA9PiBpLmdldFRleHQoKSkpKVxuICAgICAgLnRvRXF1YWwoWydJdGVtIDInLCAnSXRlbSAzJ10pO1xuICAgIGV4cGVjdChzZWN0aW9uc1syXS5oZWFkaW5nKS50b0JlKCdTZWN0aW9uIDInKTtcbiAgICBleHBlY3Qoc2VjdGlvbnNbMl0uaXRlbXMubGVuZ3RoKS50b0VxdWFsKDApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGdldCBsaXN0IGl0ZW0gdGV4dCBhbmQgbGluZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IGF3YWl0IGxvYWRlci5nZXRIYXJuZXNzKE1hdExpc3RIYXJuZXNzKTtcbiAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGxpc3QuZ2V0SXRlbXMoKTtcbiAgICBleHBlY3QoaXRlbXMubGVuZ3RoKS50b0JlKDMpO1xuICAgIGV4cGVjdChhd2FpdCBpdGVtc1swXS5nZXRUZXh0KCkpLnRvQmUoJ0l0ZW0gMScpO1xuICAgIGV4cGVjdChhd2FpdCBpdGVtc1swXS5nZXRMaW5lc1RleHQoKSkudG9FcXVhbChbJ0l0ZW0nLCAnMSddKTtcbiAgICBleHBlY3QoYXdhaXQgaXRlbXNbMV0uZ2V0VGV4dCgpKS50b0JlKCdJdGVtIDInKTtcbiAgICBleHBlY3QoYXdhaXQgaXRlbXNbMV0uZ2V0TGluZXNUZXh0KCkpLnRvRXF1YWwoW10pO1xuICAgIGV4cGVjdChhd2FpdCBpdGVtc1syXS5nZXRUZXh0KCkpLnRvQmUoJ0l0ZW0gMycpO1xuICAgIGV4cGVjdChhd2FpdCBpdGVtc1syXS5nZXRMaW5lc1RleHQoKSkudG9FcXVhbChbXSk7XG4gIH0pO1xufSk7XG4iXX0=